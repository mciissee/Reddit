<nz-page-header>
  <nz-page-header-title>
    <div class="title">
      <i nz-icon nzType="reddit-circle" nzTheme="fill"></i>
      Reddit
    </div>
  </nz-page-header-title>
  <nz-page-header-tags>
    <ng-container *ngFor='let link of links'>
      <ng-container *ngIf="link.visible()">
        <a
          nz-button [nzType]="rla.isActive ? 'link' : 'text'"
          [routerLink]="link.href" routerLinkActive #rla="routerLinkActive">
          <i nz-icon [nzType]="link.icon"></i>
          {{link.title}}
        </a>
      </ng-container>
    </ng-container>
  </nz-page-header-tags>
  <nz-page-header-extra>
    <ng-container *ngIf="user; else: notLogged">
      <button class="avatar" nz-button nzType="text" nzShape="round" nz-popover [nzPopoverContent]="content">
        {{user!.username|uppercase}}
        <nz-avatar nzSize="default" nzIcon="user"></nz-avatar>
        <ng-template #content>
          <div style="display: flex; flex-direction: column;">
            <button (click)="openResetPasswordDialog()" nz-button nzType="default" nzShape="round">
              <i nz-icon nzType="security-scan"></i>
              Modifier votre mot de passe
            </button>
            <br/>
            <button (click)="signOut()" nz-button nzType="default" nzShape="round">
              <i nz-icon nzType="logout"></i>
              Deconnexion
            </button>
          </div>
        </ng-template>
      </button>
    </ng-container>
    <ng-template #notLogged>
      <button nz-button nzType="default" nzShape="round" [routerLink]="'/sign-in'">
        <i nz-icon nzType="login"></i>
        Connexion
      </button>
      <button nz-button nzType="primary" nzShape="round" [routerLink]="'/sign-up'">
        <i nz-icon nzType="user-add"></i>
        Inscription
      </button>
    </ng-template>
  </nz-page-header-extra>
</nz-page-header>



<ng-template #tplTitle>
  <span>Modifier votre mot de passe</span>
</ng-template>
<ng-template #tplContent>
  <mat-form-field>
    <mat-label>Entrez votre ancien mot de passe</mat-label>
    <input type="password" [(ngModel)]="oldPassword" matInput />
  </mat-form-field>
  <mat-form-field>
    <mat-label>Entrez votre nouveau mot de passe</mat-label>
    <input type="password" [(ngModel)]="newPassword" matInput />
  </mat-form-field>
</ng-template>
<ng-template #tplFooter let-ref="modalRef">
  <button nz-button (click)="ref.destroy()">Annuler</button>
  <button nz-button nzType="primary" [disabled]="!canSubmitResetPasswordForm" (click)="resetPassword(); ref.destroy()">Cr√©er</button>
</ng-template>
